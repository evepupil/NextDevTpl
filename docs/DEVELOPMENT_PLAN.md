# NextDevTpl æ¶æ„å¯¹æ¯”ä¸å¼€å‘è®¡åˆ’

## ä¸€ã€æ¶æ„å¯¹æ¯”åˆ†æ

### å½“å‰é¡¹ç›®ç»“æ„ vs NextDevTpl å‚è€ƒæ¶æ„

| æ¨¡å— | NextDevTpl å‚è€ƒ | å½“å‰é¡¹ç›® | çŠ¶æ€ |
|------|----------------|----------|------|
| **åŸºç¡€è®¾æ–½** |
| Next.js App Router | âœ… | âœ… | å·²å®Œæˆ |
| TypeScript | âœ… | âœ… | å·²å®Œæˆ |
| Tailwind CSS | âœ… | âœ… | å·²å®Œæˆ |
| Biome (Lint/Format) | âœ… | âœ… | å·²å®Œæˆ |
| shadcn/ui | âœ… | âœ… | å·²å®Œæˆ |
| **è·¯ç”±ç»“æ„** |
| `(marketing)/` è·¯ç”±ç»„ | âœ… | âœ… | å·²å®Œæˆ |
| `(app)/` æˆ– `(dashboard)/` è·¯ç”±ç»„ | âœ… | âœ… `(dashboard)` | å·²å®Œæˆ |
| `(auth)/` è·¯ç”±ç»„ | âœ… | âœ… | å·²å®Œæˆ |
| `[locale]/` å›½é™…åŒ–è·¯ç”± | âœ… | âŒ | å¾…å®ç° |
| `[[...slug]]` æ–‡æ¡£è·¯ç”± | âœ… | âŒ | å¾…å®ç° |
| **æ•°æ®åº“ & è®¤è¯** |
| Drizzle ORM | âœ… `src/database/` | âœ… `src/db/` | å·²å®Œæˆ (è·¯å¾„ä¸åŒ) |
| Better Auth | âœ… `src/lib/auth/` | âœ… `src/lib/auth.ts` | å·²å®Œæˆ (ç»“æ„ç®€åŒ–) |
| æ•°æ®åº“è¿ç§» | âœ… `drizzle/` | âœ… `drizzle/` | å·²å®Œæˆ |
| **ç»„ä»¶æ¶æ„** |
| `components/ui/` | âœ… | âœ… | å·²å®Œæˆ |
| `components/auth/` | âœ… | âŒ (åœ¨ features/auth) | ç»“æ„ä¸åŒ |
| `components/marketing/` | âœ… | âœ… | å·²å®Œæˆ |
| `components/dashboard/` | âœ… | âœ… | å·²å®Œæˆ |
| `components/settings/` | âœ… | âŒ (åœ¨ features/settings) | ç»“æ„ä¸åŒ |
| `components/admin/` | âœ… | âŒ | å¾…å®ç° |
| `components/ai-elements/` | âœ… | âŒ | å¾…å®ç° |
| `components/shared/` | âœ… | âŒ | å¾…å®ç° |
| `components/docs/` | âœ… | âŒ | å¾…å®ç° |
| `components/icons/` | âœ… | âŒ | å¾…å®ç° |
| **å†…å®¹ç®¡ç†** |
| `content/` MDX åšå®¢ | âœ… | âŒ | å¾…å®ç° |
| `content/` MDX æ–‡æ¡£ | âœ… | âŒ | å¾…å®ç° |
| `messages/` ç¿»è¯‘æ–‡ä»¶ | âœ… | âŒ | å¾…å®ç° |
| `i18n/` å›½é™…åŒ–å·¥å…· | âœ… | âŒ | å¾…å®ç° |
| **ä¸šåŠ¡é€»è¾‘æ¨¡å—** |
| `src/ai/` AI ç³»ç»Ÿ | âœ… | âŒ | å¾…å®ç° |
| `src/credits/` ç§¯åˆ†ç³»ç»Ÿ | âœ… | âŒ | å¾…å®ç° |
| `src/payment/` æ”¯ä»˜ç³»ç»Ÿ | âœ… | âŒ | å¾…å®ç° |
| `src/mail/` é‚®ä»¶ç³»ç»Ÿ | âœ… | âŒ | å¾…å®ç° |
| `src/storage/` å­˜å‚¨ç³»ç»Ÿ | âœ… | âŒ | å¾…å®ç° |
| **æ”¯æŒåº“** |
| `lib/actions/` Server Actions | âœ… | âœ… `src/actions/` | å·²å®Œæˆ |
| `lib/hooks/` è‡ªå®šä¹‰ Hooks | âœ… | âœ… `src/hooks/` | å·²å®Œæˆ |
| `lib/stores/` Zustand | âœ… | âŒ | å¾…å®ç° |
| `lib/safe-action.ts` | âœ… | âœ… | å·²å®Œæˆ |
| `lib/source.ts` Fumadocs | âœ… | âŒ | å¾…å®ç° |
| `types/` ç±»å‹å®šä¹‰ | âœ… | âœ… | å·²å®Œæˆ |
| **API è·¯ç”±** |
| `api/auth/[...all]/` | âœ… | âœ… | å·²å®Œæˆ |
| `api/ai/demo/chat/` | âœ… | âŒ | å¾…å®ç° |
| `api/ai/demo/image/` | âœ… | âŒ | å¾…å®ç° |
| `api/search/` | âœ… | âŒ | å¾…å®ç° |
| `api/webhooks/stripe/` | âœ… | âŒ | å¾…å®ç° |
| `api/jobs/` å®šæ—¶ä»»åŠ¡ | âœ… | âŒ | å¾…å®ç° |
| **ç‰¹æ®Šè·¯ç”±** |
| `robots.ts` | âœ… | âŒ | å¾…å®ç° |
| `sitemap.ts` | âœ… | âŒ | å¾…å®ç° |
| `middleware.ts` | âœ… | âœ… | å·²å®Œæˆ |
| **é…ç½®** |
| `src/config/` åº”ç”¨é…ç½® | âœ… | âŒ | å¾…å®ç° |

---

## äºŒã€éœ€è¦ä¿®æ”¹/è°ƒæ•´çš„é¡¹ç›®

### 2.1 ç›®å½•ç»“æ„è°ƒæ•´ (å»ºè®®)

| å½“å‰è·¯å¾„ | å»ºè®®è°ƒæ•´ä¸º | åŸå›  |
|----------|-----------|------|
| `src/db/` | `src/database/` | ä¸å‚è€ƒæ¶æ„ä¿æŒä¸€è‡´ï¼Œæ›´æ¸…æ™° |
| `src/lib/auth.ts` | `src/lib/auth/index.ts` | æ‹†åˆ†ä¸ºå¤šä¸ªæ–‡ä»¶ï¼Œä¾¿äºç»´æŠ¤ |
| `src/features/` | ä¿ç•™æˆ–è¿ç§»åˆ° `src/components/` | ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥ï¼Œfeatures æ›´æ¨¡å—åŒ– |

### 2.2 è®¤è¯æ¨¡å—æ‹†åˆ† (å»ºè®®)

å½“å‰ `src/lib/auth.ts` å’Œ `src/lib/auth-client.ts` å»ºè®®æ‹†åˆ†ä¸ºï¼š

```
src/lib/auth/
â”œâ”€â”€ index.ts          # Better Auth ä¸»é…ç½®
â”œâ”€â”€ client.ts         # å®¢æˆ·ç«¯å·¥å…· (useSession, reloadSession)
â”œâ”€â”€ server.ts         # æœåŠ¡å™¨ç«¯å·¥å…· (getSession)
â”œâ”€â”€ api.ts            # API è·¯ç”±è¾…åŠ©å‡½æ•°
â”œâ”€â”€ edge.ts           # Edge è¿è¡Œæ—¶å‡½æ•°
â”œâ”€â”€ session-context.ts # Session React Context
â””â”€â”€ errors.ts         # è®¤è¯é”™è¯¯å¤„ç†
```

### 2.3 ç¼ºå¤±çš„æ ¸å¿ƒç»„ä»¶

éœ€è¦æ·»åŠ çš„ `src/components/` å­ç›®å½•ï¼š
- `shared/` - å…±äº«ç»„ä»¶ (Header, Footer, Cookie Banner)
- `icons/` - å›¾æ ‡ç»„ä»¶
- `admin/` - ç®¡ç†é¢æ¿ç»„ä»¶
- `ai-elements/` - AI ç›¸å…³ UI ç»„ä»¶

---

## ä¸‰ã€åç»­å¼€å‘è®¡åˆ’

### Phase 1: åŸºç¡€è®¾æ–½å®Œå–„ (ä¼˜å…ˆçº§: é«˜)

#### 1.1 é…ç½®ä¸­å¿ƒåŒ–
- [ ] åˆ›å»º `src/config/index.ts` - é›†ä¸­ç®¡ç†åº”ç”¨é…ç½®
- [ ] åˆ›å»º `src/config/site.ts` - ç«™ç‚¹å…ƒæ•°æ®é…ç½®
- [ ] åˆ›å»º `src/config/nav.ts` - å¯¼èˆªé…ç½®
- [ ] åˆ›å»º `src/config/pricing.ts` - å®šä»·é…ç½®

#### 1.2 SEO ä¼˜åŒ–
- [ ] æ·»åŠ  `src/app/robots.ts` - åŠ¨æ€ robots.txt
- [ ] æ·»åŠ  `src/app/sitemap.ts` - åŠ¨æ€ sitemap
- [ ] ä¼˜åŒ–å„é¡µé¢ metadata

#### 1.3 å…±äº«ç»„ä»¶
- [ ] åˆ›å»º `src/components/shared/` ç›®å½•
- [ ] æå– Header/Footer åˆ° shared
- [ ] æ·»åŠ  Cookie Consent Banner
- [ ] æ·»åŠ  Theme Provider (next-themes)

---

### Phase 2: å›½é™…åŒ– (i18n) (ä¼˜å…ˆçº§: ä¸­)

#### 2.1 åŸºç¡€è®¾æ–½
- [ ] å®‰è£… `next-intl` æˆ– `next-i18next`
- [ ] åˆ›å»º `src/i18n/` ç›®å½•ç»“æ„
- [ ] åˆ›å»º `messages/en.json` å’Œ `messages/zh.json`

#### 2.2 è·¯ç”±é‡æ„
- [ ] æ·»åŠ  `[locale]` åŠ¨æ€è·¯ç”±æ®µ
- [ ] æ›´æ–° middleware æ”¯æŒ locale æ£€æµ‹
- [ ] è¿ç§»ç°æœ‰é¡µé¢åˆ° locale è·¯ç”±

#### 2.3 ç»„ä»¶å›½é™…åŒ–
- [ ] ä½¿ç”¨ `useTranslations` Hook
- [ ] ç¿»è¯‘æ‰€æœ‰é™æ€æ–‡æœ¬

---

### Phase 3: å†…å®¹ç®¡ç†ç³»ç»Ÿ (ä¼˜å…ˆçº§: ä¸­)

#### 3.1 MDX åšå®¢ç³»ç»Ÿ
- [ ] å®‰è£… Fumadocs æˆ– Contentlayer
- [ ] åˆ›å»º `src/content/blog/` ç›®å½•
- [ ] å®ç°åšå®¢åˆ—è¡¨é¡µå’Œè¯¦æƒ…é¡µ
- [ ] æ·»åŠ  MDX ç»„ä»¶ (ä»£ç é«˜äº®ã€å›¾ç‰‡ç­‰)

#### 3.2 æ–‡æ¡£ç³»ç»Ÿ
- [ ] åˆ›å»º `src/content/docs/` ç›®å½•
- [ ] å®ç°æ–‡æ¡£å¯¼èˆªå’Œæœç´¢
- [ ] æ·»åŠ  `[[...slug]]` catch-all è·¯ç”±

#### 3.3 æ³•å¾‹é¡µé¢
- [ x] åˆ›å»º Terms of Service
- [ x] åˆ›å»º Privacy Policy
- [ x] åˆ›å»º Cookie Policy

---

### Phase 4: AI é›†æˆ (ä¼˜å…ˆçº§: é«˜)

#### 4.1 AI åŸºç¡€è®¾æ–½
- [ ] åˆ›å»º `src/ai/` ç›®å½•ç»“æ„
- [ ] å®‰è£… Vercel AI SDK (`ai` package)
- [ ] é…ç½® AI æ¨¡å‹ (OpenAI, Anthropic ç­‰)

#### 4.2 AI åŠŸèƒ½å®ç°
- [ ] åˆ›å»º `src/ai/models/` - æ¨¡å‹é…ç½®
- [ ] åˆ›å»º `src/ai/prompts.ts` - æç¤ºè¯æ¨¡æ¿
- [ ] åˆ›å»º `src/ai/agents/` - AI ä»£ç†

#### 4.3 AI API è·¯ç”±
- [ ] å®ç° `api/ai/demo/chat/route.ts`
- [ ] å®ç° `api/ai/demo/image/route.ts`

#### 4.4 AI UI ç»„ä»¶
- [ ] åˆ›å»º `src/components/ai-elements/`
- [ ] å®ç° Chat UI ç»„ä»¶
- [ ] å®ç° Image Generation UI

---

### Phase 5: æ”¯ä»˜ç³»ç»Ÿ (ä¼˜å…ˆçº§: é«˜)

#### 5.1 æ”¯ä»˜åŸºç¡€è®¾æ–½
- [ ] åˆ›å»º `src/payment/` ç›®å½•ç»“æ„
- [ ] å®‰è£… Stripe SDK
- [ ] é…ç½® Stripe ç¯å¢ƒå˜é‡

#### 5.2 æ”¯ä»˜åŠŸèƒ½
- [ ] åˆ›å»º `src/payment/providers/stripe.ts`
- [ ] å®ç° Checkout Session åˆ›å»º
- [ ] å®ç° Customer Portal
- [ ] å®ç° Webhook å¤„ç†

#### 5.3 æ”¯ä»˜ UI
- [ ] åˆ›å»ºå®šä»·é¡µé¢ `/pricing`
- [ ] åˆ›å»ºè®¢é˜…ç®¡ç†é¡µé¢
- [ ] åˆ›å»ºè´¦å•å†å²é¡µé¢

---

### Phase 6: ç§¯åˆ†ç³»ç»Ÿ (ä¼˜å…ˆçº§: ä¸­)

#### 6.1 ç§¯åˆ†åŸºç¡€è®¾æ–½
- [ ] åˆ›å»º `src/credits/` ç›®å½•ç»“æ„
- [ ] æ·»åŠ ç§¯åˆ†ç›¸å…³æ•°æ®åº“è¡¨
- [ ] åˆ›å»ºç§¯åˆ†ç±»å‹å®šä¹‰

#### 6.2 ç§¯åˆ†åŠŸèƒ½
- [ ] å®ç°ç§¯åˆ†æ¶ˆè´¹ Action
- [ ] å®ç°ç§¯åˆ†æˆäºˆ Action
- [ ] å®ç°ç§¯åˆ†è¿‡æœŸ Action
- [ ] å®ç°äº¤æ˜“è®°å½•

#### 6.3 ç§¯åˆ† UI
- [ ] åˆ›å»ºç§¯åˆ†ä½™é¢æ˜¾ç¤ºç»„ä»¶
- [ ] åˆ›å»ºç§¯åˆ†è´­ä¹°é¡µé¢
- [ ] åˆ›å»ºä½¿ç”¨è®°å½•é¡µé¢

---

### Phase 7: é‚®ä»¶ç³»ç»Ÿ (ä¼˜å…ˆçº§: ä¸­)

#### 7.1 é‚®ä»¶åŸºç¡€è®¾æ–½
- [ ] åˆ›å»º `src/mail/` ç›®å½•ç»“æ„
- [ ] å®‰è£… Resend SDK å’Œ React Email
- [ ] é…ç½®é‚®ä»¶ç¯å¢ƒå˜é‡

#### 7.2 é‚®ä»¶æ¨¡æ¿
- [ ] åˆ›å»º `src/mail/templates/` ç›®å½•
- [ ] å®ç°æ¬¢è¿é‚®ä»¶æ¨¡æ¿
- [ ] å®ç°å¯†ç é‡ç½®é‚®ä»¶æ¨¡æ¿
- [ ] å®ç°è®¢é˜…ç¡®è®¤é‚®ä»¶æ¨¡æ¿

#### 7.3 é‚®ä»¶åŠŸèƒ½
- [ ] å®ç°å‘é€é‚®ä»¶ Action
- [ ] å®ç° Newsletter è®¢é˜…

---

### Phase 8: å­˜å‚¨ç³»ç»Ÿ (ä¼˜å…ˆçº§: ä½)

#### 8.1 å­˜å‚¨åŸºç¡€è®¾æ–½
- [ ] åˆ›å»º `src/storage/` ç›®å½•ç»“æ„
- [ ] å®‰è£… AWS S3 SDK æˆ– Cloudflare R2
- [ ] é…ç½®å­˜å‚¨ç¯å¢ƒå˜é‡

#### 8.2 å­˜å‚¨åŠŸèƒ½
- [ ] å®ç°æ–‡ä»¶ä¸Šä¼  Action
- [ ] å®ç°ç­¾å URL ç”Ÿæˆ
- [ ] å®ç°å¤´åƒä¸Šä¼ åŠŸèƒ½

---

### Phase 9: ç®¡ç†åå° (ä¼˜å…ˆçº§: ä½)

#### 9.1 ç®¡ç†è·¯ç”±
- [ ] åˆ›å»º `(dashboard)/dashboard/admin/` è·¯ç”±
- [ ] å®ç°ç®¡ç†å‘˜æƒé™æ£€æŸ¥

#### 9.2 ç®¡ç†åŠŸèƒ½
- [ ] ç”¨æˆ·ç®¡ç†é¡µé¢
- [ ] è®¢å•ç®¡ç†é¡µé¢
- [ ] ç³»ç»Ÿè®¾ç½®é¡µé¢

---

## å››ã€å¼€å‘ä¼˜å…ˆçº§æ€»ç»“

| ä¼˜å…ˆçº§ | Phase | æ¨¡å— | é¢„ä¼°å·¥ä½œé‡ |
|--------|-------|------|-----------|
| ğŸ”´ é«˜ | 1 | åŸºç¡€è®¾æ–½å®Œå–„ | 2-3 å¤© |
| ğŸ”´ é«˜ | 4 | AI é›†æˆ | 3-5 å¤© |
| ğŸ”´ é«˜ | 5 | æ”¯ä»˜ç³»ç»Ÿ | 3-5 å¤© |
| ğŸŸ¡ ä¸­ | 2 | å›½é™…åŒ– | 2-3 å¤© |
| ğŸŸ¡ ä¸­ | 3 | å†…å®¹ç®¡ç† | 3-4 å¤© |
| ğŸŸ¡ ä¸­ | 6 | ç§¯åˆ†ç³»ç»Ÿ | 2-3 å¤© |
| ğŸŸ¡ ä¸­ | 7 | é‚®ä»¶ç³»ç»Ÿ | 2-3 å¤© |
| ğŸŸ¢ ä½ | 8 | å­˜å‚¨ç³»ç»Ÿ | 1-2 å¤© |
| ğŸŸ¢ ä½ | 9 | ç®¡ç†åå° | 3-4 å¤© |

---

## äº”ã€å»ºè®®çš„ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **ç«‹å³æ‰§è¡Œ**: å®Œæˆ Phase 1 åŸºç¡€è®¾æ–½å®Œå–„ï¼Œå»ºç«‹é…ç½®ä¸­å¿ƒ
2. **çŸ­æœŸç›®æ ‡**: å®ç° AI é›†æˆ (Phase 4)ï¼Œè¿™æ˜¯ SaaS äº§å“çš„æ ¸å¿ƒå–ç‚¹
3. **ä¸­æœŸç›®æ ‡**: å®Œæˆæ”¯ä»˜ç³»ç»Ÿ (Phase 5) å’Œç§¯åˆ†ç³»ç»Ÿ (Phase 6)ï¼Œå®ç°å•†ä¸šåŒ–
4. **é•¿æœŸç›®æ ‡**: å®Œå–„å›½é™…åŒ–ã€å†…å®¹ç®¡ç†ã€é‚®ä»¶ç­‰è¾…åŠ©åŠŸèƒ½

---

*æ–‡æ¡£ç”Ÿæˆæ—¶é—´: 2026-01-24*
*å½“å‰é¡¹ç›®ç‰ˆæœ¬: åŸºäº commit 4c61807*
